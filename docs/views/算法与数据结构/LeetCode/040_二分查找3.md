---
title: ã€æ¯æ—¥ç®—æ³•Day 40ã€‘äºŒåˆ†æŸ¥æ‰¾3
date: 2020-07-10
tags:
 - äºŒåˆ†æŸ¥æ‰¾
categories:
 - LeetCode
---
:::tip
ä»Šå¤©å†åŠ å¼ºä¸€ä¸‹å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†Ÿç»ƒåº¦ï¼Œå…¶ä¸­å¯»æ‰¾å³°å€¼çš„æ”¶ç¼©æŸ¥æ‰¾ç©ºé—´çš„æ€è·¯å€¼å¾—æ³¨æ„ã€‚
:::
<!-- more -->

## [LeetCode 162. å¯»æ‰¾å³°å€¼ğŸš©](https://leetcode-cn.com/problems/find-peak-element)
### é¢˜ç›®æè¿°
å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚
ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„Â numsï¼Œå…¶ä¸­ nums[i] â‰  nums[i+1]ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚
æ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›ä»»ä½•ä¸€ä¸ªå³°å€¼æ‰€åœ¨ä½ç½®å³å¯ã€‚
ä½ å¯ä»¥å‡è®¾Â nums[-1] = nums[n] = -âˆã€‚

### ç¤ºä¾‹
```
è¾“å…¥: nums = [1,2,3,1]
è¾“å‡º: 2
è§£é‡Š: 3 æ˜¯å³°å€¼å…ƒç´ ï¼Œä½ çš„å‡½æ•°åº”è¯¥è¿”å›å…¶ç´¢å¼• 2ã€‚
```

### è§£é¢˜æ€è·¯
å¯¹äºåºåˆ—ä¸­çš„ä¸€ä¸ªå…ƒç´ nums[i]ï¼Œæˆ‘ä»¬æŠŠå®ƒå’Œnums[i+1]è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœnums[i]&lt;nums[i+1]ï¼Œåˆ™è¯´æ˜è¯¥å…ƒç´ å¤„äºå‡åºåˆ—ä¸­ï¼Œå…¶å³ä¾§ï¼ˆä¸åŒ…æ‹¬æœ¬èº«ï¼‰ä¸€å®šå­˜åœ¨è‡³å°‘ä¸€ä¸ªæå¤§å€¼ï¼›å¦åˆ™è¯¥å…ƒç´ å¤„äºé™åºåˆ—å…¶å·¦ä¾§ï¼ˆåŒ…æ‹¬æœ¬èº«ï¼‰ä¸€å®šå­˜åœ¨è‡³å°‘ä¸€ä¸ªæå¤§å€¼ã€‚å°±è¿™æ ·é€æ¸ç¼©å°æœç´¢åŒºé—´ï¼Œå½“åŒºé—´é•¿åº¦ä¸º1æ—¶è¯¥ç‚¹å°±ä¸€å®šæ˜¯æå¤§å€¼ã€‚

è‡³äºä¸ºä»€ä¹ˆå’Œå³ä¾§å…ƒç´ æ¯”è¾ƒè€Œä¸æ˜¯å’Œå·¦ä¾§å…ƒç´ ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬å–mid=(left+right)/2ï¼Œå½“right=left+1æ—¶ï¼Œmid=leftï¼Œè¿™æ—¶å’Œå³ä¾§æ¯”ä¸ä¼šè¶Šç•Œï¼Œå’Œå·¦ä¾§æ¯”ä¼šè¶Šç•Œã€‚
```java
public int findPeakElement(int[] nums) {
    if (nums == null || nums.length == 0) return -1;
    int left = 0, right = nums.length - 1;
    while (left < right) {
        int mid = left + ((right - left) >> 1);
        if (nums[mid] < nums[mid + 1]) {
            left = mid + 1;
        } else {
            right=mid;
        }
    }
    return left;
}
```

## [LeetCode 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array)
### é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯Â O(log n) çº§åˆ«ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ï¼Œè¿”å›Â [-1, -1]ã€‚

### ç¤ºä¾‹
```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 8
è¾“å‡º: [3,4]
```

### è§£é¢˜æ€è·¯
è¿™ä¸€é¢˜å°±æ˜¯æˆ‘ä»¬åœ¨[äºŒåˆ†æŸ¥æ‰¾1](./038_äºŒåˆ†æŸ¥æ‰¾1.md)ä¸­å­¦ä¹ è¿‡çš„ï¼Œå¯»æ‰¾ç›®æ ‡æ•°ä»¥åŠå·¦å³è¾¹ç•Œçš„é—®é¢˜ï¼Œç°åœ¨æ¥å¤ä¹ ä¸€éã€‚
```java
public int[] searchRange(int[] nums, int target) {
    int[] result=new int[]{-1,-1};

    int left=0,right=nums.length-1;
    while (left <= right) {
        int mid=left+((right-left)>>1);
        if (nums[mid] == target) {
            right=mid-1;//å¾€å·¦æœç´¢ï¼Œé”å®šå³è¾¹ç•Œ
        } else if (nums[mid] > target) {
            right=mid-1;
        } else if (nums[mid] < target) {
            left=mid+1;
        }
    }
    if (left < nums.length && nums[left] == target)
        result[0] = left;

    left=0;
    right=nums.length-1;
    while (left <= right) {
        int mid=left+((right-left)>>1);
        if (nums[mid] == target) {
            left=mid+1;//å¾€å³æœç´¢ï¼Œé”å®šå·¦è¾¹ç•Œ
        } else if (nums[mid] > target) {
            right=mid-1;
        } else if (nums[mid] < target) {
            left=mid+1;
        }
    }
    if (left > 0 && nums[left - 1] == target)
        result[1]=left-1;
    return result;
}
```
æ—¶é—´å¤æ‚åº¦ä¸ºO(2*logn)ï¼Œä¸ºæ‰¾å·¦å³è¾¹ç•Œæ‰§è¡Œäº†ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾ã€‚æœ‰è®¸å¤šå†—ä½™ä»£ç ï¼Œå¯ä»¥å°è£…æˆä¸€ä¸ªæ–¹æ³•ï¼Œä¸è¿‡æ—¶é—´å¤æ‚åº¦å¹¶ä¸ä¼šé™ä½ã€‚æ­¤å¤–ï¼Œåœ¨ç¬¬ä¸€æ¬¡æ‰¾åˆ°ç›®æ ‡å€¼æ—¶å†è°ƒç”¨æ–¹æ³•æŸ¥æ‰¾å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œè¿™æ ·èƒ½å¤Ÿå‡å°‘é‡å¤æœç´¢çš„æ­¥éª¤ï¼ˆéœ€è¦ä¼ å…¥å½“æ—¶çš„è¾¹ç•ŒçŠ¶æ€ï¼‰ã€‚

## [LeetCOde 349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†]()
### é¢˜ç›®æè¿°
ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚

### ç¤ºä¾‹
```
è¾“å…¥ï¼šnums1 = [4,9,5], nums2 = [9,4,9,8,4]
è¾“å‡ºï¼š[9,4]
```

### è§£é¢˜æ€è·¯
ä¸‹é¢è®¡ç®—ç©ºé—´å¤æ‚åº¦æ—¶**ä¸è€ƒè™‘å­˜æ”¾ç»“æœå®¹å™¨çš„æ¶ˆè€—**ã€‚

å¯ä»¥ä½¿ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œå³ç”¨ä¸€ä¸ªHashSetå‚¨å­˜ä¸€ä¸ªæ•°ç»„ä¸­å”¯ä¸€çš„å…ƒç´ ï¼Œç„¶åéå†å¦ä¸€ä¸ªæ•°ç»„ï¼ŒHash Setä¸­å«æœ‰è¯¥å…ƒç´ åˆ™åŠ å…¥åˆ°ç»“æœé›†ä¸­ã€‚ä¸è¿‡å°†æ•°ç»„è½¬æ¢æˆSetéœ€è¦O(nums1)çš„æ—¶é—´ï¼Œéå†å¦ä¸€ä¸ªæ•°ç»„éœ€è¦O(nums2)çš„æ—¶é—´ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(nums1)ã€‚
```java
public int[] intersection(int[] nums1, int[] nums2) {
    Set<Integer> set = new HashSet<>();
    Set<Integer> res = new HashSet<>();
    for(int i:nums1){
        set.add(i);
    }
    for(int i:nums2){
        if(set.contains(i))
            res.add(i);
    }
    int[] ans=new int[res.size()];
    int index=0;
    for (Integer i : res) {
        ans[index++]=i;
    }
    return ans;
}
```
ä¹Ÿå¯ä»¥å¯¹å…¶ä¸­ä¸€ä¸ªæ•°ç»„è¿›è¡Œæ’åºï¼Œå†éå†å¦ä¸€ä¸ªæ•°ç»„ä¸­çš„æ•°ï¼Œåœ¨å‰è€…ä¸­äºŒåˆ†æŸ¥æ‰¾è¯¥æ•°ï¼Œæ‰¾åˆ°å°±åŠ å…¥åˆ°ç»“æœé›†ã€‚è¯¥æ–¹æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)+O(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ã€‚
```java
public int[] intersection(int[] nums1, int[] nums2) {
    Set<Integer> result = new HashSet<>();
    Arrays.sort(nums1);
    for (int target : nums2) {
        if (Arrays.binarySearch(nums1, target)>=0) {
            result.add(target);
        }
    }
    int[] ans=new int[result.size()];
    int index=0;
    for (Integer i : result) {
        ans[index++]=i;
    }
    return ans;
}
```