---
title: ã€æ¯æ—¥ç®—æ³•Day 98ã€‘è´ªå¿ƒæ‹¼æ¥åå’Œæœ€å¤§çš„å­æ•°ç»„ğŸš©
date: 2020-09-06
tags:
 - å‰ç¼€
categories:
 - LeetCode
---

## é¢˜ç›®æè¿°
é¦–å…ˆè¾“å…¥ä¸¤ä¸ªæ•°nå’Œmï¼Œæ¥ä¸‹æ¥è¾“å…¥nä¸ªè¿ç»­çš„æ•°ç»„ä¸­çš„æ•°ã€‚mè¡¨ç¤ºå¯ä»¥å°†æ•°ç»„é‡å¤æ‹¼æ¥å¤šå°‘æ¬¡ï¼Œæ±‚å‡ºæ‹¼æ¥åçš„æ•°ç»„ä¸­å’Œæœ€å¤§çš„å­æ•°ç»„ã€‚

## ç¤ºä¾‹
```
è¾“å…¥ï¼š5ï¼Œ1ï¼Œ[1,3,-9,2,4]
è¾“å‡ºï¼š6
è§£é‡Šï¼šå’Œæœ€å¤§çš„å­åºåˆ—ä¸º2ï¼Œ4

è¾“å…¥ï¼š5ï¼Œ2ï¼Œ[1,3,-9,2,4]
è¾“å‡ºï¼š10
è§£é‡Šï¼šå’Œæœ€å¤§çš„å­åºåˆ—ä¸º2ï¼Œ4ï¼Œ1ï¼Œ3
```

## è§£é¢˜æ€è·¯
è¾“å…¥æ•°ç»„æ—¶ç»Ÿè®¡æ•°ç»„ä¸­æ•°å­—çš„æ€»å’Œsumã€‚`m>=2`æ—¶ï¼Œå…ˆä»2Xæ•°ç»„æ‹¼æ¥çš„ç»“æœä¸­å¯»æ‰¾å’Œæœ€å¤§çš„å­æ•°ç»„å’Œtotalï¼Œå¦‚æœ`sum<=0`ï¼Œé‚£ä¹ˆæ‹¼æ¥ä¸¤ä¸ªä»¥ä¸Šçš„æ•°ç»„æ²¡æœ‰æ„ä¹‰ï¼Œå¦‚æœ`sum>0`ï¼Œé‚£ä¹ˆè¦æ±‚çš„å€¼ä¸ºtotal+(m - 2) * sumã€‚m=1çš„æƒ…å†µè¦å•ç‹¬è®¨è®ºã€‚ï¼ˆå…¶å®è¿™ä¸ªæ€è·¯æœ‰æ¼æ´ï¼Œ2Xæ•°ç»„æ‹¼æ¥çš„å’Œæœ€å¤§çš„å­æ•°ç»„ä¸ä¸€å®šå°±æ˜¯åœ¨é¦–å°¾ï¼‰ã€‚

æ‰¾å’Œæœ€å¤§çš„å­æ•°ç»„çš„è¿‡ç¨‹ä½¿ç”¨åˆ°äº†å‰ç¼€å’ŒæŠ€å·§ã€‚
```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        while (in.hasNextInt()) {
            int n = in.nextInt();
            int m = in.nextInt();
            int[] s = new int[n * 2];
            int sum = 0;
            for(int i = 0; i < n; i++){
                s[i] = in.nextInt();
                s[n + i] = s[i];
                sum += s[i];
            }
            //ä½¿ç”¨å‰ç¼€å’Œæ•°ç»„å»å¯»æ‰¾æœ€é•¿åºåˆ—çš„å’Œ
            long[] prefix = new long[n * 2 + 1];
            for(int i = 1; i <= 2 * n; i++){
                prefix[i] = prefix[i - 1] + s[i - 1];
            }
            
            long max = 0;
            if(m == 1){//å¦‚æœä»…å¤åˆ¶ä¸€æ¬¡é‚£ä¹ˆå°±ä»åªå¯»æ‰¾ä¸€åŠçš„æ•°ç»„
                for(int i = 0; i < n; i++){
                    for(int j = i + 1; j <= n; j++){
                        max = Math.max(max, prefix[j] - prefix[i]);
                    }
                }
                System.out.println(max);
            }else{
                for(int i = 0; i < n * 2; i++){
                    for(int j = i + 1; j <= n * 2; j++){
                        max = Math.max(max, prefix[j] - prefix[i]);
                    }
                }
                if(sum <= 0){
                    System.out.println(max);
                }else{
                    long result = max + (m - 2) * sum;
                    System.out.println(result);
                }
            }
            
        }
    }
}

```