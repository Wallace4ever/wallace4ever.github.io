(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{507:function(s,e,a){"use strict";a.r(e);var t=a(4),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[s._v("有朋友询问本博客如何搭建，其实相关的框架产品和教程有很多，那这次就来简单分享下使用VuePress + GitHub Pages搭建个人静态博客的方法。")])]),s._v(" "),a("h1",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("目前几种主流的静态博客框架都是基于Node.js渲染解析Markdown实现的，所以只要你学会简单的Markdown语法就可以快速开始写作。其中，Hexo有着丰富的博客主题模板并可以灵活地增加、切换主题，另外创建文章、渲染网页文件以及发布到托管网站都只需要一条指令就能完成，如果你喜欢为博客配置多样的主题那么Hexo可能更适合你；GitBook和VuePress诞生之初主要是面向文档的写作而非个人博客，基于后者也陆续出现了一些优秀的博客插件，本博客就使用了@"),a("code",[s._v("reco_luan")]),s._v("等贡献者编写的"),a("code",[s._v("vuepress-theme-reco")]),s._v("主题插件，感谢他们的工作。下面就来看看怎么搭建自己的博客吧。")]),s._v(" "),a("h2",{attrs:{id:"安装配置node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装配置node-js"}},[s._v("#")]),s._v(" 安装配置Node.js")]),s._v(" "),a("p",[s._v("首先你需要配置好Node.js环境，以便后面的步骤能正常完成。访问"),a("a",{attrs:{href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node.js官网"),a("OutboundLink")],1),s._v("下载适合自己操作系统的版本。")]),s._v(" "),a("p",[s._v("通常情况下保持默认的安装选项就可以了，安装完成后确认"),a("code",[s._v("node")]),s._v("和"),a("code",[s._v("npm")]),s._v("被添加到环境变量中。在终端运行"),a("code",[s._v("node -v")]),s._v("和"),a("code",[s._v("npm -v")]),s._v("，如果输出版本号就没有问题了。")]),s._v(" "),a("p",[s._v("另外还需要将npm镜像源切换到国内的镜像站来保证后面较快的下载安装速度。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"安装配置git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装配置git"}},[s._v("#")]),s._v(" 安装配置Git")]),s._v(" "),a("p",[s._v("为了能将最后生成的博客网页源文件push到托管服务器上，还需要安装Git版本控制工具。不同操作系统的安装方式不同：")]),s._v(" "),a("ul",[a("li",[s._v("MacOS 可以直接在终端运行"),a("code",[s._v("xcode-select --install")]),s._v("安装Xcode Command Line Tools，安装完成之后Git就可以使用了。")]),s._v(" "),a("li",[s._v("各Linux发行版可以使用包管理器如yum、apt、pacman来直接安装。")]),s._v(" "),a("li",[s._v("Windows需要下载"),a("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装包"),a("OutboundLink")],1),s._v("进行安装。")])]),s._v(" "),a("p",[s._v("安装完毕之后记得配置个人的姓名和电子邮箱：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Your Name"')]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"email@example.com"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"创建博客仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建博客仓库"}},[s._v("#")]),s._v(" 创建博客仓库")]),s._v(" "),a("p",[s._v("GitHub、Gitee、GitLab等托管服务商都推出了Pages服务，国内用户可能访问码云的速度会快一些，下面以GitHub为例，点击New Repository创建一个新的仓库：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://wx1.sbimg.cn/2020/09/11/9YfK4.png",alt:"9YfK4.png"}})]),s._v(" "),a("p",[s._v("仓库一定要命名为"),a("code",[s._v("你的GitHub用户名.github.io")]),s._v("，这样才能用作GitHub Pages。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://wx2.sbimg.cn/2020/09/11/9Z4TY.png",alt:"9Z4TY.png"}})]),s._v(" "),a("p",[s._v("接下来点击仓库设置：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://wx1.sbimg.cn/2020/09/11/9ZmN7.png",alt:"9ZmN7.png"}})]),s._v(" "),a("p",[s._v("找到GitHub Pages的选项，你会看到有提示你此仓库可以作为GitHub Pages，选择master分支作为构建Pages的分支，并任选一个初始化主题，稍等一段时间就可以访问"),a("code",[s._v("username.github.io")]),s._v("了。后面我们新创建一个分支来管理博客的源文件，并使用VuePress生成的博客覆盖master分支中的内容。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://wx2.sbimg.cn/2020/09/12/9UTlY.png",alt:"9UTlY.png"}})]),s._v(" "),a("h2",{attrs:{id:"安装vuepress以及博客主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装vuepress以及博客主题"}},[s._v("#")]),s._v(" 安装VuePress以及博客主题")]),s._v(" "),a("p",[s._v("VuePress-theme-reco自带了脚手架，可以便捷地安装VuePress组件以及初始化博客的配置，可以从博客和文档风格中进行选择。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用npm安装脚手架")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @vuepress-reco/theme-cli -g\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用脚手架完成剩余的安装配置工作")]),s._v("\ntheme-cli init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("安装过程中会要求你配置博客在本地的存储目录，完成后目录下会新增"),a("code",[s._v(".vuepress")]),s._v("（配置及资源文件）、"),a("code",[s._v("views")]),s._v("（Markdown源文件）、"),a("code",[s._v("node_modules")]),s._v("（npm下载安装的包）、"),a("code",[s._v("public")]),s._v("（生成的静态网页文件）文件夹以及一些配置文件。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://wx1.sbimg.cn/2020/09/12/9UVCA.png",alt:"9UVCA.png"}})]),s._v(" "),a("p",[s._v("这时，当你写完一些Markdown文章之后就可以生成你的博客站点了。")]),s._v(" "),a("ul",[a("li",[s._v("使用"),a("code",[s._v("npm run dev")]),s._v("命令启用本地web服务器，访问localhost://8080来临时查看博客的效果")]),s._v(" "),a("li",[s._v("使用"),a("code",[s._v("npm run build")]),s._v("命令来生成博客的静态文件到public目录下")])]),s._v(" "),a("h2",{attrs:{id:"将博客部署到github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将博客部署到github"}},[s._v("#")]),s._v(" 将博客部署到GitHub")]),s._v(" "),a("p",[s._v("可选步骤：我们在GitHub中为仓库创建一个新的分支用于存储博客源文件，例如取名为source分支。使用Git将该仓库克隆到本地，再通过"),a("code",[s._v("git checkout source")]),s._v("切换到source分支，将本地的"),a("code",[s._v(".git")]),s._v("隐藏文件夹拷贝到博客根目录下，我们就在source分支下进行书写工作了。之后也可以commit在此分支下编辑的内容并push到远程仓库中。")]),s._v(" "),a("p",[s._v("在项目根目录下创建"),a("code",[s._v(".gitignore")]),s._v("文件并写入我们希望Git在追踪时忽略的目录：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("node_modules/\ndocs/.vuepress/theme\npackage-lock.json\npackage.json\npublic/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("这样我们就可以将改动同步到GitHub服务器的远程仓库上，但在这之前，我们还需要生成SSH Key并添加到GitHub账户中。")]),s._v(" "),a("h3",{attrs:{id:"_1-生成ssh-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-生成ssh-key"}},[s._v("#")]),s._v(" 1. 生成SSH Key")]),s._v(" "),a("p",[s._v("使用ssh-keygen来生成秘钥，参数为你注册GitHub的邮箱，期间需要输入保存的文件路径以及passphrase，直接回车保持默认即可，生成的秘钥默认在用户主目录的"),a("code",[s._v(".ssh")]),s._v("文件夹下。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("ssh-keygen -t rsa -C "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"youremail@example.com"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("下面查看生成的.pub文件内容：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Linux/MacOS用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Windows用户需要打开C盘下Users/用户目录下的.ssh文件夹")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-添加key到github账户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-添加key到github账户"}},[s._v("#")]),s._v(" 2. 添加Key到GitHub账户")]),s._v(" "),a("p",[s._v("点击GitHub右上方个人头像，选择菜单中的settings，找到SSH and GPG keys，选择添加SSH Key。任取一个标题（我一般写设备名称便于区分）并将.pub文件中的内容拷贝上去。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://wx2.sbimg.cn/2020/09/12/9xxnh.png",alt:"9xxnh.png"}})]),s._v(" "),a("p",[s._v("添加完成后在终端中测试是否添加成功：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@github.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 出现这句话说明成功")]),s._v("\nHi Wallace4ever"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" You've successfully authenticated, but GitHub does not provide shell access.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_3-部署博客到master分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-部署博客到master分支"}},[s._v("#")]),s._v(" 3. 部署博客到master分支")]),s._v(" "),a("p",[s._v("前面我们提到运行"),a("code",[s._v("npm run build")]),s._v("即可生成博客的静态文件到public目录，那么我们可以写一个简单的shell脚本用于快速部署，创建一个脚本文件（例如deploy.sh）将脚本保存起来。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" public\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里改为你的仓库地址")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f git@github.com:Wallace4ever/wallace4ever.github.io.git master\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("在终端中直接运行"),a("code",[s._v("./deploy.sh")]),s._v("即可（注意Linux/MacOS下需要将脚本文件权限改为可执行的，Windows不需要但要通过git bash for windows执行，推荐使用VS Code并选择合适的终端Shell）。")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("更多博客的配置、插件的使用可以移步"),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("主题官网"),a("OutboundLink")],1),s._v("查看详细的文档。")])])}),[],!1,null,null,null);e.default=n.exports}}]);